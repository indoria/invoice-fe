<% include("invoice/partial/header.ejs"); %>
<link rel="stylesheet" href="css/base-theme.css">
<link rel="stylesheet" href="css/icons.css">
<script src="https://cdn.jsdelivr.net/npm/svg4everybody/dist/svg4everybody.min.js"></script>
<script>
  svg4everybody();
</script>
<style>
    :root {
        --body-color: #e9e9f7;
        --sidebar-color: #fff;
        --primary-color: #695cfe;
        --primary-color-light: #f6f5ff;
        --toggle-color: #ddd;
        --text-color: #707070;

        --tran-02: all 0.2s ease;
        --tran-03: all 0.3s ease;
        --tran-04: all 0.4s ease;
        --tran-05: all 0.5s ease;
    }
    body {
        height: 100vh;
        background-color: var(--body-color);
        font-family: var(--font-family-segoe);
    }
    .sidebar.collapsed {
        width: 60px;
    }
    .sidebar.collapsed .sidebar-text {
        opacity: 0;
    }
    .sidebar {
        position: fixed;
        top: 0;
        left: 0;
        height: 100%;
        width: 250px;
        background-color: var(--sidebar-color);
        box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        z-index: 1000;
        transition: var(--tran-03);
        text-wrap: nowrap ;
        display: flex;
        flex-direction: column;
    }
    .sidebar-top, .sidebar-links-main, .sidebar-bottom {
        overflow: hidden;
    }
    .sidebar-links-main .icon, .sidebar-bottom .icon{
        margin: 0 3px;
    }
    #logo-container {
        padding: 0 10px;
    }
    .sidebar-top {
        display: flex;
        padding: 10px 0;
        border-bottom: 1px solid var(--toggle-color);
    }
    .sidebar-top img {
        max-width: 40px;
        max-height: 40px;
    }
    .sidebar-top-text h1 {
        font-size: 1rem;
    }
    .toggle-btn {
        position: absolute;
        right: -10px;
        border: 1px solid;
        top: 15px;
        border-radius: 50%;
        background-color: #fff;
        padding: 2px;
        box-shadow: 0 0 3px 1px rgba(0, 0, 0, 0.4);
        cursor: pointer;
        transform: rotate(180deg);
        transition: var(--tran-03);
    }
    .toggle-btn i {
        font-size: 0.8rem;
        color: var(--text-color);
        cursor: pointer;
    }
    .toggle-btn:hover {
        background-color: var(--toggle-color);
    }
    .toggle-btn.collapsed {
        transform: rotate(0deg);
    }
    .sidebar-links-main {
        padding: 10px 0;
        border-bottom: 1px solid var(--toggle-color);
        flex-grow: 1;
    }
    .sidebar-links {
        padding-left: 15px;
    }
    svg {
        width: 24px;
        height: 24px;
        fill: none;
        stroke: currentColor;
        stroke-width: 2;
        stroke-linecap: round;
        stroke-linejoin: round;
    }
    .sidebar-link .collapsed {
        display: none;
    }
</style>
</head>
<body>
<nav class="sidebar">
    <div class="sidebar-top">
        <div id="logo-container">
            <img src="img/logo-dark.svg" alt="Logo" class="logo">
        </div>
        <div class="sidebar-top-text sidebar-text">
            <h1 class="my-0">Invoice</h1>
            <p>Manage your invoices</p>
        </div>
        <span class="toggle-btn">
            <i class="icon icon-heavy-round-tipped-right-arrow"></i>
        </span>
    </div>
    <div class="sidebar-links-main">
        <ul class="sidebar-links">
            <li>
                <a href="/invoice" class="sidebar-link">
                    <svg class="icon"><use href="/img/icons.svg?v=2#lucide-receipt-text"></use></svg>
                    <span class="sidebar-text">Invoices</span>
                </a>
            </li>
            <li>
                <a href="/templates" class="sidebar-link">
                    <svg class="icon" width="24" height="24" viewBox="0 0 24 24"><use href="/img/icons.svg?v=2#lucide-panels-top-left"></use></svg>
                    <span class="sidebar-text">Templates</span>
                </a>
            </li>
            <li>
                <a href="/items" class="sidebar-link">
                    <svg class="icon"><use href="/img/icons.svg?v=2#lucide-clipboard-list"></use></svg>
                    <span class="sidebar-text">Items</span>
                </a>
            </li>
            <li>
                <a href="/clients" class="sidebar-link">
                    <svg class="icon"><use href="/img/icons.svg?v=2#lucide-users-round"></use></svg>
                    <span class="sidebar-text">Clients</span>
                </a>
            </li>
        </ul>
    </div>
    <div>
        <ul class="sidebar-links">
            <li>
                <a href="/billing" class="sidebar-link">
                    <svg class="icon"><use href="/img/icons.svg?v=2#lucide-credit-card"></use></svg>
                    <span class="sidebar-text">Billing</span>
                </a>
            </li>
            <li>
                <a href="/support" class="sidebar-link">
                    <svg class="icon"><use href="/img/icons.svg?v=2#lucide-headphones"></use></svg>
                    <span class="sidebar-text">Support</span>
                </a>
            </li>
            <li>
                <a href="/faq" class="sidebar-link">
                    <svg class="icon"><use href="/img/icons.svg?v=2#lucide-help-circle"></use></svg>
                    <span class="sidebar-text">FAQ</span>
                </a>
            </li>
            <li>
                <a href="/contact" class="sidebar-link">
                    <svg class="icon"><use href="/img/icons.svg?v=2#lucide-mail"></use></svg>
                    <span class="sidebar-text">Contact</span>
                </a>
            </li>
        </ul>
    </div>
    <div class="sidebar-bottom">
        <ul class="sidebar-links">
            <li>
                <a href="/profile" class="sidebar-link">
                    <svg class="icon"><use href="/img/icons.svg?v=2#lucide-user"></use></svg>
                    <span class="sidebar-text">Profile</span>
                </a>
            </li>
            <li>
                <a href="/settings" class="sidebar-link">
                    <svg class="icon"><use href="/img/icons.svg?v=2#lucide-cog"></use></svg>
                    <span class="sidebar-text">Settings</span>
                </a>
            </li>
            <li>
                <a href="/logout" class="sidebar-link">
                    <svg class="icon"><use href="/img/icons.svg?v=2#lucide-log-out"></use></svg>
                    <span class="sidebar-text">Logout</span>
                </a>
            </li>
        </ul>
    </div>
</nav>
<script>
    const sidebar = (() => {
        const toggleBtn = document.querySelector('.toggle-btn');
        const sidebar = document.querySelector('.sidebar');

        const collapse = () => {
            sidebar.classList.add('collapsed');
            toggleBtn.classList.add('collapsed');
            return 'collapsed';
        };

        const expand = () => {
            sidebar.classList.remove('collapsed');
            toggleBtn.classList.remove('collapsed');
            return 'expanded';
        };
        const toggle = () => {
            if (sidebar.classList.contains('collapsed')) {
                return expand();
            } else {
                return collapse();
            }
        };
        const init = () => {
            sidebar.classList.remove('collapsed');
            toggleBtn.classList.remove('collapsed');
            toggleBtn.addEventListener('click', () => {
                return toggle();
            });
        };

        return {
            init,
            collapse,
            expand,
            toggle
        }
    })();
    sidebar.init();
</script>
<% include("invoice/partial/footer.ejs"); %>